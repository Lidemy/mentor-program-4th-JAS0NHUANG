# Week2 作業自我檢討

這週的參考解答放在另外一個檔案裡面，然後自我檢討有幾件事情要請大家檢查。

第一，請看清楚題目的要求，「印出」代表在 function 裡面會出現 `console.log`，把東西印出來；「回傳」代表要利用 `return` 把答案回傳，所以在呼叫 function 時不會有任何輸出，一定要把這兩點分得很清楚。

第二，hw5 的 join 那題，請試試看以下幾個 case 是否有回傳正確答案：

``` js
join([1, 2, 3], '')，正確回傳值：123
join(["a", "b", "c"], "!")，正確回傳值：a!b!c
join(["aaa", "bb", "c", "dddd"], ',,')，正確回傳值：aaa,,bb,,c,,dddd
```

要特別注意的是分隔符號只會在每個元素中間出現，所以如果你寫成：

``` js
function join(arr, concatStr) {
  let result = '';
  for (let i = 0; i < arr.length; i += 1) {
    result += arr[i] + concatStr;
  }
  return result;
}
```

是標準錯誤寫法，因為最後面會多了一個 concatStr。

第三，有關於 hw6 的簡答題

在跑這個迴圈：`if (arr[i] !== arr[i-1] + arr[i-2]) return 'invalid'` 的時候，執行到 i=4 時 `if (arr[4] !== arr[3] + arr[2])` 答案會是 true，因為 22 !== 13 + 8，所以會回傳 invalid，而且回傳之後剩下的程式碼都不會再執行了

如果你執行流程寫一寫最後結果跟這個不一樣，那你一定是漏掉了什麼，麻煩再修正一下。

第四，hw1 給範圍的目的是：「讓你知道題目範圍是多少」

那超出範圍怎麼辦？不會，保證不會測試到超出範圍的數字，所以你可以完全不去考慮那些情形。雖然說在實際工作上可能不會有那麼明確的範圍規定，但是在程式解題的領域裡面基本上都會，因為有了這些限制，你才有辦法去決定要用什麼方式去解它。

我看很多人程式碼裡面有特別寫：`if (n>=1 && n<=30)`，這是沒有必要的，因為就算超出範圍，題目也沒有跟你說要怎麼辦，所以也沒有一個正確的處理方法。

## 本週重點與非重點

跟大家補充一些這週學習的重點，以及補充一些課程中沒講到但卻很重要的細節

## 重點（請優先學習）

1. 基本語法（變數、判斷式、迴圈、函式）
2. 變數儲存的模型（我之前 po 的那個博物館文章）
3. function 的運用
4. 命名「慣例」
5. 型態
6. return 的作用

### 變數命名

不同的程式語言會有不同的命名「慣例」，會說是慣例是因為就算不照這個命名也不會出錯。

例如說你可以有一個變數是 `Str = 3`，或是 `maxNumber = 'cool'`，明明變數名稱就不是這個意思，卻放了完全不同的資料。但相信大家都看得出來，這樣做的話是非常不好的方法，因為在誤導人。

在談變數與函式命名的時候，我覺得可以簡單分成兩種：

1. 語法上的慣例
2. 語意上的慣例

上面講的是語意上的慣例，你把一個字串叫做 `str` 會比較做 `num` 好，因為 str 是 string 的縮寫，所以光是從命名就可以看出是一個字串。

所以在取變數名稱的時候請盡量取的貼切一點，要找最大值就直接把它取叫 `max` 或是 `maxNumber`、`maxValue` 之類的都可以，會比 `num` 或是 `value` 好，因為更明確一點。

有關於語意，在第三週的自我檢討會再談這件事。

接著來談一下「語法上的慣例」，這邊以 maxNumber 為例：

1. maxNumber (camel case)，小寫開頭，然後單字的連接變成大寫，像駝峰一樣
2. MaxNumber (pascal case)，大寫開頭的駝峰式
3. max_value (snake case)，用底線隔開單字，底線像是蛇一樣
4. max-value (kebab case)，用 - 隔開像是烤肉串，Kebab 就是烤肉串的意思

所以這四種其實都代表相同的意思，只是語法不一樣，最後長出來的變數名稱也會不一樣。先強調一點：

> 無論你選哪一種，請記得貫徹始終

不要一個變數叫做 `Abc`（大寫開頭），另一個叫做 `maxNum`（小寫駝峰），另一個又叫做 `to_upper_case`（snake case），這樣是最差勁的命名。

然後在 JS 裡面，無論是函式或是變數，習慣都是採用第一種：「駝峰式命名」，例如說我們有用過的：`toUpperCase` 就是一個很好的範例。

所以請大家在命名函式以及變數的時候，一律使用第一種命名方式。然後常用的命名規則還有第二種，大寫開頭的駝峰式，但那個是碰到 class 才會用到，這個還沒教到，之後教的時候會再提醒一次。

### 型態

課程裡面講到的那幾種型態其實都滿常用到的，尤其需要特別注意的是字串跟數字。字串跟數字相加會是字串，這個一定要記得，因為你 90% 會出錯在這種東西。

例如說：

``` js
var arr = ['12', '34']
console.log(1 + arr[0])
```

答案是多少？

答案是 112 不是 13，因為數字 + 字串會變成字串。所以你要使用 `Number()` 或是 `parseInt()` 把你的字串轉成數字，才能順利把數字相加。

型態這問題會在第三週再提到一次。

### return 的作用

兩個重點：

1. return 的意義：把結果傳回去
2. 函式一執行到 return，就把結果傳回去然後結束了，其他在 function 裡的程式碼「不會執行到」

大家一定要很清楚地知道 `console.log` 就只是「印出」，把任何東西印在你的執行環境上面。你在 Node.js 下 console.log，就會在你的 terminal 上面印出東西。你在瀏覽器下 console.log，就會在瀏覽器的 console 印出結果。

但你要知道的是，印出的結果是給誰看的？給人看的。所以對電腦來說，console.log 是沒有什麼意義的。

再來談談 return，大家有用過 Excel 嗎？裡面不是會有一些內建函式嗎，例如說 `SUM`，如果我用了 `SUM(A1:A10)`，就可以得到這幾個格子相加後的結果。SUM 就是一個函式的經典範例。

那除了這些內建的，你也可以自己幫 Excel 新增函式，你可以把一連串的操作合併起來，之後要重複運用就會容易很多。每一個程式都會有下面三個要素：

1. 輸入
2. 運算
3. 輸出

以這週的作業來講，capitalize 那一題就是：

1. 輸入（一個字串）
2. 運算
3. 輸出（一個字串）

假設我們今天要寫一個程式，可以讓人輸入一個陣列代表成績，然後輸出成績的平均數以及有多少人及格，那我們可能會這樣寫：

``` js
var scores = [20, 40, 60, 40, 100, 90, 80];
var sum = 0;

for (var i = 0; i < scores.length; i++) {
  sum += scores;
}

console.log('平均：', sum / scores.length);

var failed = 0
for( var i = 0; i < scores.length; i++) {
  if (scores[i] < 60) {
    failed++;
  }
}

console.log('不及格的人有：', failed);
```

所以這個程式就是：

1. 輸入（陣列）
2. 運算
3. 輸出（平均分數跟不及格的人）

問題來了，如果你同事跟你說他也想算這東西，只是它不需要平均分數，只需要算不及格的人有多少，那你該怎麼把程式碼給他？

你當然可以只把這一段給他：

``` js
var failed = 0
for( var i = 0; i < scores.length; i++) {
  if (scores[i] < 60) {
    failed++;
  }
}
```

可是如果這樣，那他的變數名稱也要叫做 scores，不然就會出錯，他就要改名，或是去改你的程式碼。現在的程式碼只有 6 行，看起來還好，但如果有 60 行呢？那問題就大了。

所以我們可以把這一段獨立出來，變成另外一個：副程式，也就是函式：

``` js
function failedCount(scores) {
  var failed = 0
  for( var i = 0; i < scores.length; i++) {
    if (scores[i] < 60) {
      failed++;
    }
  }
  return failed;
}
```

如此一來，只需要把這個 function 給同事，跟他說：「你把陣列傳進去，就會得到結果了」。之所以會說這個是副程式，就是因為他一樣有以下三個元素：

1. 輸入（陣列）
2. 運算
3. 輸出（不及格的人數）

return 的意義就是要產生第三步驟的那個輸出。

### 其他

有些人好像對浮點數誤差有一點疑惑，這邊簡單解釋一下。

首先，數字是不是無限多？是。

那在電腦裡面，數字儲存的空間是不是無限大？不是，通常是 32 bits 或是 64 bits。

但用有限的東西來存無限的東西會發生什麼事？

答案就是誤差，就是不精準。因為輸入是無限的，可是你的儲存空間是有限的，代表你絕對不可能有辦法儲存所有種組合，所以就一定會有誤差，會有範圍限制。

## 非重點（有時間再學習）

1. sort 的 compare function
2. 把函式當作參數
3. 位元運算
4. 挑戰題與超級挑戰題
5. 內建函式

這些東西都可以等之後再回來補，而且有些根本不用補，你多看幾次就會熟了。例如說內建函式的部分，以後用到的機會很多，之後一直用一直用，你不想熟也得熟。

