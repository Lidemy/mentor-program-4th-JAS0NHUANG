## 為什麼我們需要 React？可以不用嗎？

React 自稱為「建立使用者界面的 JavaScript 函式庫」，其實它本質上跟大家所熟知的 jQuery 一樣，提供給開發者很多包裝好的函式，讓開發者方便使用、不必自已重寫每一個功能、提高開發效率。  

主要有兩個概念：1、「元件式」的程式架構。2、資料與畫面分離。元件式的程式架構可以讓網站將相同功能的區塊分割成一個一個的元件，再依照頁面需求組合起來，一方面不必重覆多次相同或相似的內容，另一方面也可以讓程式更容易維護（修改元件定義就可以改變所有元件實際顯示時的內容）。  

不論是用過純 PHP 寫後端或是用 JavaScript 或 jQuery 直接處理 DOM 物件與事件的人應該都有過那種程式邏輯、資料、畫面、樣式全部混在一起，想改個東西牽一髪動全身，要不然就是找不到當時寫的東西藏在程式碼的哪個部分……，其實解決方案很多（例如後端的 MVC 架構），而前端頁面將資料與畫面分離就是一個不錯的解決方法，而這個「思考模式」上的轉換讓 React 寫起來更清楚，資料流也更容易掌握。  

因為它這兩個特性，使得它可以有很大的通用性，寫出來的程式透過「渲染」可以轉換成不同平台（網頁前、後端、手機、……）的應用程式。  

其實 React 已經發展出一個自成一格的程式寫作風格，也因為開發者眾多，雖然沒有一個通用的標準，但是其實已經算是一個有基本寫作架構的「框架」了。  

雖然它提供了許多功能、有許多的優點，但是其實也不一定要使用它，比較小的專案或是比較簡單的功能可能直接用純 JavaScript 或是 jQuery 處理還會比較簡單，甚至效能還比較好，畢竟與「直接操作 DOM 元素」相比，React 要經過渲染、渲染過程中要比對 DOM 與虛擬 DOM，「相對」還是比較沒有效率的，但是如果專案到一定規模、資料流比較複雜的時候，React 確實提供了一個在效能、可維護性以及開發效率上蠻平衡的解決方案。  

## React 的思考模式跟以前的思考模式有什麼不一樣？  
上面提到的兩個主要概念就是 React 的核心思考模式，第一個「元件式」的程式架構比較好理解一點，其實以往就有接觸過類似的思考模，像是寫程式時試著把不同的功能分出不同的函式，而 HTML 的標籤其實也就帶有「元件」的概念，之前在寫 PHP 或是後端 MVC 的時候也會把不同功能、不同角色「模組化」再依需求引入。  

第二個「資料與畫面分離」就與以往的思考模式很不一樣了，以往寫前端的頁面就是直接使用 JavaScript 同時與畫面、資料互動，可能是從伺服器端請求資料、取得資料之後直接操作頁面上的元素，進而改變顯示出來的畫面，或者是從 DOM 上面取得資料，然後將它們傳送給伺服器或是依照 DOM 上面資料的變化再去改變需要變動的元素，所以會造成資料、畫面、程式邏輯交互影響。  

React 資料與畫面分離的概念就是「所有的顯示畫面都以資料內容為基準」，是一個單向的資料傳遞過程，可以大大減少這種互相影響所造成的混亂，因為當我們寫好前端的畫面，將顯示內容或不顯示的內容設定好，接下來只要去操作資料就可以了，只要資料有變動，畫面就會顯示出對應的內容，所以在學習 React 的時候第一個就是要改掉想要直接去修改畫面的想法，記住「只操作資料」。  

## state 跟 props 的差別在哪裡？
state 與 props 最主要的差別來自於它的「所有權」，state 的所有權屬於元件本身，它在元件內被建立，所以可以被那一個建立它的元件操作、修改、讀取，然後在元件從頁面上移除時它也會跟著被移除（其實這點我不是很確定，但是感覺應該這樣是比較合理的，元件都不存在了屬於它的 state 也不應該存在才對吧？！）。  

而 props 的所有權則是屬於當下元件的上層的元件，有點像是被當作參數一樣傳進來，React 官方文件也特別提到「所有的 React 元件在操作 props 時都應該符合 pure function 的原則」，也就是 props 應該是唯讀的，使用它的元件不應該去修改它。

[React.org](https://reactjs.org/)
[宣告式程式設計](https://zh.wikipedia.org/zh-tw/%E5%AE%A3%E5%91%8A%E5%BC%8F%E7%B7%A8%E7%A8%8B)
[Pure function](https://en.wikipedia.org/wiki/Pure_function)
[State and Lifecycle](https://reactjs.org/docs/state-and-lifecycle.html)
[Components and Props](https://reactjs.org/docs/components-and-props.html)
